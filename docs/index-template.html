<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Upcycle</title>
  <link rel="stylesheet" href="docs.css">
  <!-- bower:css -->
  <!-- endbower -->
  
  <!-- inject:css -->
  <!-- endinject -->

  <!-- bower:js -->
  <!-- endbower -->

  <!-- inject:source:js -->
  <!-- include source files here... --> 
  <!-- endinject -->
  
</head>

<body>
  <div class="btn-group">
    <button type="button" data-value="base" data-action="toggle-theme" class="btn btn-default">Base</button>
    <button type="button" data-value="portal" data-action="toggle-theme" class="btn btn-default">Portal</button>
  </div>
  <div id="examples"></div>
  <script type="text/javascript">
  $(function(){
    var data = {
      'facets': [{
        'name': 'date',
        'displayName': 'Date',
        'options':[{
          'name': 'today',
          'displayName': 'Today'
        },{
          'name': 'yesterday',
          'displayName': 'Yesterday',
          'selected': true
        }]
      },{
        'name': 'severity',
        'displayName': 'Severity',
        'options':[{
          'name': 'reallyhigh',
          'displayName': 'Really high'
        },{
          'name': 'high',
          'displayName': 'High'
        },{
          'name': 'notsohigh',
          'displayName': 'Not so high'
        },{
          'name': 'medium',
          'displayName': 'Medium'
        },{
          'name': 'mediumlow',
          'displayName': 'Medium low'
        },{
          'name': 'low',
          'displayName': 'Low'
        }]
      },{
        'name': 'type',
        'displayName': 'Type',
        'options':[{
          'name': 'hotfix',
          'displayName': 'Hotfix'
        },{
          'name': 'coldfix',
          'displayName': 'Coldfix'
        },{
          'name': 'warmfix',
          'displayName': 'Warmfix'
        }]
      }]
    };

    /**
     * FacetList
     * ===============================================
     */
    var facetlist = window.facetlist = $('<div></div>')
      .appendTo('#examples')
      .facetlist({
        'data': data,
        'eventDelay': 1000
      })
      .on('facetlistchange', function(event, data){
        console.log(event);
        console.log(data);
      }).on('change', function(){
        console.log('changing...');
      })
      .data('upcycle-facetlist');


     /**
     * Filters
     * ===============================================
     */ 
    var filter = window.filter = $('<div></div>')
      .appendTo('#examples')
      .filter({
        'data': data
      })
      .data('upcycle-filter');

    /**
     * Theme buttons
     * ===============================================
     */
    $('[data-action="toggle-theme"]')
      .on('click', function(){
        var $body = $('body'),
            themeName = $(this).attr('data-value'),
            className = $('body').prop('className').replace(/( ?)upcycle-\w+/, '$1');
        $body.prop('className', className + 'upcycle-' + themeName);

        facetlist.update();  
        filter.update();  
      });
  });
  
  </script>
</body>
</html>